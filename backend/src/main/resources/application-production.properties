# 프로덕션 환경 설정

# === AWS RDS t3.micro 프로덕션 최적화 설정 ===
# 프로덕션에서는 연결 누수 감지 비활성화 (성능 최적화)
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=3
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.connection-test-query=SELECT 1

# 보안 강화 설정
server.error.include-stacktrace=never
server.error.include-message=never
server.error.include-binding-errors=never

# 로깅 레벨 조정 (보안 정보 노출 방지)
logging.level.org.springframework.web=WARN
logging.level.org.springframework.security=WARN
logging.level.org.springframework.boot.autoconfigure=WARN

# JPA 쿼리 로그 비활성화
spring.jpa.show-sql=false

# SpringDoc OpenAPI 완전 비활성화 (프로덕션에서는 API 문서 노출 금지)
springdoc.api-docs.enabled=false
springdoc.swagger-ui.enabled=false

# 테스트 컨트롤러 관련 경로 완전 차단 (추가 보안)
springdoc.paths-to-exclude=/api/auth/test/**,/api/test/**,/test/**

# Actuator 엔드포인트 최소화
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=when-authorized 